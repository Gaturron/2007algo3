
%\section{Ejercicio 2}

%\subsection{insertar en \rbt}

%\subsection{insertar en \adi}

\section{\adi}

\subsection{Ideas para la eleccion de la estructura del \adi}

%//////////////////////////////////////////////////////////////////

\subsubsection{Dos Árboles}

La primera idea que se nos acurrio para extender el arbol de intervalos a dos dimensiones, fue simplemente tener dos árboles (uno para cada coordenada).\\
La busqueda entonces consistia en buscar las imagenes correspondientes a la coordenada $x$ y luego las imagenes correspondientes a la coordenada $y$. Por ultimo, debiamos encontrar las imagenes que aparecieran en los dos conjuntos.

\vskip0.3cm

%//////////////////////////////////////////////////////////////////

\subsubsection{Árbol con ambas coordenadas}

Otra idea fue, hacer un solo arbol en el que los ``Intervalos Elementales'' se construyeran con todos los puntos de inicio y finalizacion de las coordenadas $x$ e $y$. En cada nodo de este arbol se encontrabas un arreglo (o alguna otra estructura) con las imagenes que le correspondian en $x$ y otro arreglo con las imagenes que le correspondian en $y$.\\
De esta manera, si había coincidencias entre los puntos de $x$ y los puntos de $y$, reduciamos espacialmente la cantidad de nodos.
La consulta consistía en buscar cada coordenada independietemente de la otra, como en un arbol convencional, tomando como arreglo asociado al nodo el correspondiente a la coordenada deseada en cada caso.

\vskip0.3cm

%//////////////////////////////////////////////////////////////////

\subsubsection{Árbol de árboles}
Otra forma de extender el árbol de intervalos a 2 dimensiones era la siguiente:\\
Tener un árbol de intervalos en una coordenada y en cada nodo tener un árbol de intervalos con la imágenes correspondientes a ese nodo ordenadas por la otra coordenada.

Aquí hay un pequeño ejemplo para facilitar la comprensión:

\begin{center}
		\includegraphics{ada.png} \\
\end{center}

%//////////////////////////////////////////////////////////////////

\subsubsection{Árbol único}

La última idea es mucho más simple que todas las anteriores. Se basa en tener un sólo árbol con una de las coordenadas.

Haremos primero la busqueda en este árbol. Luego, de los resultados obtenidos, verificamos (consultando la lista de todas las imagenes) cuales coinciden también el la otra coordenada.

\subsection{Elección de la estructura del \adi}

Nos decidimos por implementar la idea del árbol único, por los siguientes motivos:

Sabíamos que la búsqueda de un punto en un arbol de una sola coordenada era de $O(log(n) + k)$


\subsubsection{\da}

En \da la costo espacial y temporal de la construccion era cercano al doble del ``Árbol único'', (pues tiene un árbol más).

\paragraph{}
En la búsqueda, el \au también resolvia el problema en aproximadamente la mitad del tiempo:\\
En el \au la busqueda se realiza en $log(n) + k'$ (donde $k'$ son las imagenes que coinciden en x) mas $k'$ para verificas si coincide la coordenada $y$.\\
En cambio en el \da la busqueda seria $log(n) + k' + log(n) + k''$ (donde $k''$ son las imagenes que coinciden en y) mas $min(k',k'')$ para verificar coincidencias. \\
NOTA: Para poder hacer estas verificaciones en tiempo lineal, en la estructura del \adi tenemos un arreglo de bool.


\subsubsection{\aac}

En \aac el costo espacial y temporal de la construccion, podia disminuir solamente si existia gran cantidad de coincidencias entre los puntos de $x$ y de $y$, pero de todos modos aunque la coincidencia sea absoluta no tendremos menos nodos que en el \au. En caso de que no existan muchas coincidencias la cantidad de los nodos será cercana el doble que en el \au.\\
NOTA: Ademas cada nodo en el \aac tiene un arreglo más.
\paragraph{}
Vimos que en el \au la búsqueda se realiza en $log(n) + k' + k'$, en el \aac, en peor caso, se realizaría en $2log(2n) + k' + k'' + min(k',k'')$, que es trivialmente mayor.


\subsubsection{\ada}

En cuanto al costo espacial de la construcción, tanto en \au como en \ada, tenemos un árbol de $n$ nodos. La diferencia entre estos 2 árboles es que en \au cada nodo cuenta con un arreglo con índices de imágenes, mientras que en cada nodo del \ada hay un árbol de intervalos con esta información, el cual es más costoso espacialmente que un arreglo.
En cuanto al costo temporal de la construcción, para hacer el \ada primero necesitamos construir un \au, para recién entonces construir cada subárbol.
\paragraph{}
En el \ada el costo temporal de la búsqueda es $log(n)$ (para recorrer el camino correspondiente en la coordenada $x$) más $\sum k_i$ (donde $k_i$ es la cantidad de imágenes que se encuentran en el nodo $i$) más $k$ (que son las imágenes que devuelve el algoritmo).

%\begin{tabular}{|l|l|l|l|l|}
%\hline
%	& Costo espacial construcción	& Costo temporal construcción	& Costo espacial búsqueda	& Costo temporal búsqueda\\
%\hline
%\au	& 	&	&	& \\
%\hline
%\da	&	&	&	& \\
%\hline
%\aac	&	&	&	& \\
%\hline
%\ada	&	&	&	& 
%\hline
%\end{tabular}